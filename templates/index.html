{% extends "base.html" %}

{% block title %}Home - IMDB Clone{% endblock %}

{% block content %}
<h1 class="text-3xl font-bold mb-6">New Releases</h1>

<section class="mb-8">
    <div class="flex justify-between items-center mb-4">
        <h2 class="text-2xl font-semibold">Movies</h2>
        <a href="{{ url_for('main.movie_list') }}" class="bg-red-600 hover:bg-red-700 text-white font-bold py-2 px-4 rounded">
            All Movies
        </a>
    </div>
    <div class="movie-grid">
        {% for movie in movies %}
        <a href="{{ url_for('main.movie_detail', movie_id=movie.id) }}" class="block movie-card-link">
            <div class="movie-card relative">
                <img src="https://image.tmdb.org/t/p/w500{{ movie.poster_path }}" alt="{{ movie.title }}" class="movie-poster">
                <div class="movie-info">
                    <h3 class="movie-title">{{ movie.title }}</h3>
                    <p class="movie-year">{{ movie.release_date[:4] if movie.release_date else 'N/A' }}</p>
                </div>
                <div class="movie-rating">
                    {{ movie.vote_average|round(1) }}
                </div>
            </div>
        </a>
        {% endfor %}
    </div>
</section>

<section>
    <div class="flex justify-between items-center mb-4">
        <h2 class="text-2xl font-semibold">TV Shows</h2>
        <a href="{{ url_for('main.tv_show_list') }}" class="bg-red-600 hover:bg-red-700 text-white font-bold py-2 px-4 rounded">
            All TV Shows
        </a>
    </div>
    <div class="movie-grid">
        {% for tv_show in tv_shows %}
        <a href="{{ url_for('main.tv_show_detail', tv_id=tv_show.id) }}" class="block movie-card-link">
            <div class="movie-card relative">
                <img src="https://image.tmdb.org/t/p/w500{{ tv_show.poster_path }}" alt="{{ tv_show.name }}" class="movie-poster">
                <div class="movie-info">
                    <h3 class="movie-title">{{ tv_show.name }}</h3>
                    <p class="movie-year">{{ tv_show.first_air_date[:4] if tv_show.first_air_date else 'N/A' }}</p>
                </div>
                <div class="movie-rating">
                    {{ tv_show.vote_average|round(1) }}
                </div>
            </div>
        </a>
        {% endfor %}
    </div>
</section>
{% endblock %}
